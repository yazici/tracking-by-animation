import cv2 as cv
import numpy as np


data_dir = 'data/duke/calibration/'
h = 1080
w = 1920

# roi: [x, y]
rois = [
    [[214, 553], [1904, 411], [1897, 1055], [216, 1051]],
    [[35, 423], [574, 413], [624, 300], [1075, 284], [1150, 341], [1153, 396], [1260, 393], [1610, 492], [1608, 460], [1614, 446], [1771, 440], [1777, 485], [1894, 483], [1894, 1048], [29, 1051]],
    [[65, 659], [926, 662], [798, 592], [827, 574], [1201, 573], [1500, 671], [1888, 673], [1882, 1047], [68, 1044]],
    [[1189, 1043], [1664, 1043], [1434, 240], [1267, 240]],
    [[28, 1054], [1897, 1054], [1893, 202], [410, 211], [397, 313], [311, 320], [104, 369], [71, 449], [107, 567], [27, 750]],
    [[154, 646], [957, 626], [1863, 886], [1866, 1050], [40, 1059], [56, 775], [103, 682]],
    [[40, 751], [40, 1049], [1862, 1050], [1862, 875], [862, 817], [1004, 730], [667, 710], [445, 779]],
    [[1867, 637], [1806, 1066], [53, 1047], [455, 807], [457, 729], [824, 531]]
]


#     0    1    2    3    4    5    6    7    8
m = [ 0 , 210, 210, 270, 250, 180, 240, 250, 220]
rois_modified = [
    [[214, 553-m[1]], [1904, 411-m[1]], [1897, 1055], [216, 1051]],
    [[35, 423-m[2]], [574, 413-m[2]], [624, 300-m[2]], [1075, 284-m[2]], [1150, 341-m[2]], [1153, 396-m[2]], [1260, 393-m[2]], [1610, 492-m[2]], [1608, 460-m[2]], [1614, 446-m[2]], [1771, 440-m[2]], [1777, 485-m[2]], [1894, 483-m[2]], [1894, 1048], [29, 1051]],
    [[65, 659-m[3]], [798, 662-m[3]], [798, 592-m[3]], [827, 574-m[3]], [1201, 573-m[3]], [1500, 671-m[3]], [1888, 673-m[3]], [1882, 1047], [68, 1044]],
    [[1189, 1043-m[4]], [1189, 1043], [1664, 1043], [1664, 1043-m[4]], [1434, 240-100], [1267, 240-100]],
    [[28, 1054], [1897, 1054], [1893, 202-m[5]], [410, 211-m[5]], [397, 313-m[5]], [311, 320-m[5]], [104, 369-m[5]], [104, 449-m[5]], [107, 567-m[5]], [27, 750-m[5]]],
    [[154, 646-160], [957, 626-160], [1863, 886-m[6]], [1866, 1050-m[6]], [1866, 1050], [40, 1059], [40, 1059-m[6]], [56, 775-200], [103, 682-160]],
    [[40, 751-m[7]], [40, 1049], [1862, 1050], [1862, 875-m[7]], [1004, 817-m[7]], [1004, 730-m[7]], [667, 710-m[7]], [445, 779-m[7]]],
    [[1867, 637-m[8]], [1867, 637], [1806, 1066], [53, 1047], [53, 1047-m[8]], [455, 807-200], [457, 729-175], [824, 531-143]]
]

for i in range(0, len(rois)):
    # original roi
    img = np.zeros((h, w), dtype=np.uint8)
    roi = np.array(rois[i], dtype=np.int32)
    cv.fillPoly(img, [roi], 255)
    cv.imwrite(data_dir + 'roi' + str(i+1) + '.jpg', img)
    # modified roi
    img = np.zeros((h, w), dtype=np.uint8)
    roi = np.array(rois_modified[i], dtype=np.int32)
    cv.fillPoly(img, [roi], 255)
    cv.imwrite(data_dir + 'roi' + str(i+1) + '_modified.jpg', img)